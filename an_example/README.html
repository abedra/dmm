<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>An Example | Deterministic Memory Management on the JVM</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.2">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="../processing_the_request/README.html" />
    
    
    <link rel="prev" href="../the_problem/README.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book"  data-level="2" data-basepath=".." data-revision="1410784702307">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="the_problem/README.html">
            
                
                    <a href="../the_problem/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         The Problem
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="2" data-path="an_example/README.html">
            
                
                    <a href="../an_example/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         An Example
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="processing_the_request/README.html">
            
                
                    <a href="../processing_the_request/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         Processing the Request
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="handling_the_request/README.html">
            
                
                    <a href="../handling_the_request/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         Handling the Request
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.3" data-path="generating_the_response/README.html">
            
                
                    <a href="../generating_the_response/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                         Generating the Response
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.4" data-path="encryptdecrypt/README.html">
            
                
                    <a href="../encryptdecrypt/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                         Encrypt/Decrypt
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.5" data-path="analyzing_the_heap/README.html">
            
                
                    <a href="../analyzing_the_heap/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                         Analyzing the Heap
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="byte_arrays/README.html">
            
                
                    <a href="../byte_arrays/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Byte Arrays
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="strings/README.html">
            
                
                    <a href="../strings/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Strings
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="going_off_heap/README.html">
            
                
                    <a href="../going_off_heap/README.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         Going Off Heap
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Deterministic Memory Management on the JVM</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_3">
                    
                        <h1 id="an-example">An Example</h1>
<p>In order to introduce the problem, an example program has been created. It uses a real world scenario to demonstrate the current problems. During implementation a few assumptions were made:</p>
<ul>
<li>Implemented using Java 8 with no addtional libraries (except log4j)</li>
<li>Uses common practice encryption mechanisms</li>
<li>Coded with common Java idioms and verified using checkstyle</li>
</ul>
<p>The example implementation is an HTTP server that encrypts and decrypts data. You could label it and encryption service or a software based HSM. Quite a few liberties were taken with this
implementation and it is only intended as a piece of example code and is not suitable for production use. The basic functionality is as follows:</p>
<pre><code>$ mvn exec:java -Dexec.mainClass=Main

$ curl -d &quot;Secret Data&quot; &quot;localhost:8080/encrypt&quot;
liWKzWRcBfMF0wSMHXkFpSqBZQaa5f1BUUHVWoorBoc=

$curl -d &quot;liWKzWRcBfMF0wSMHXkFpSqBZQaa5f1BUUHVWoorBoc=&quot; &quot;localhost:8080/decrypt&quot;
Secret Data
</code></pre><p>It provides no other real functionality. The implementation offers a few additional responses which were only used as implementation references.</p>
<h2 id="limitations-of-the-example">Limitations of the Example</h2>
<p>The example code does not follow the HTTP protocol specification nor does it implement what constitues a proper web server. It was built up from just the pieces needed to provide a complete demonstration of the problem documented.</p>
<h2 id="why-didnt-you-use-x">Why didn&#39;t you use X?</h2>
<p>There are plenty of libraries and non-Java JVM languages that could have been used to create this example. The point of doing this in Java and not using any additonal libararies is to try to
cut down on the depth of the stack and to be able to modify the implementation to test out the different theories provided throughout the book.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../the_problem/README.html" class="navigation navigation-prev " aria-label="Previous page: The Problem"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../processing_the_request/README.html" class="navigation navigation-next " aria-label="Next page: Processing the Request"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
